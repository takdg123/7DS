import{c as lr,d as Ti,e as on}from"/build/_shared/chunk-DWFMXSZ6.js";var sr=lr(Ti(),1);var Q=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let r=this._partials,n=0;for(let o=0;o<this._n&&o<32;o++){let i=r[o],a=e+i,u=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);u&&(r[n++]=u),e=a}return r[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,r=this._n,n,o,i,a=0;if(r>0){for(a=e[--r];r>0&&(n=a,o=e[--r],a=n+o,i=o-(a-n),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(o=i*2,n=a+o,o==n-a&&(a=n))}return a}};function*qi(t){for(let e of t)yield*e}function Nt(t){return Array.from(qi(t))}function st(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(o);++n<o;)i[n]=t+n*r;return i}var Oi={value:()=>{}};function un(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new xe(r)}function xe(t){this._=t}function $i(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}xe.prototype=un.prototype={constructor:xe,on:function(t,e){var r=this._,n=$i(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=Di(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=an(r[o],t.name,e);else if(e==null)for(o in r)r[o]=an(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new xe(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function Di(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function an(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=Oi,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var cr=un;var we="http://www.w3.org/1999/xhtml",pr={svg:"http://www.w3.org/2000/svg",xhtml:we,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lt(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),pr.hasOwnProperty(e)?{space:pr[e],local:t}:t}function Fi(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===we&&e.documentElement.namespaceURI===we?e.createElement(t):e.createElementNS(r,t)}}function Bi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ve(t){var e=lt(t);return(e.local?Bi:Fi)(e)}function Li(){}function Rt(t){return t==null?Li:function(){return this.querySelector(t)}}function fn(t){typeof t!="function"&&(t=Rt(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,u=n[o]=new Array(a),s,l,f=0;f<a;++f)(s=i[f])&&(l=t.call(s,s.__data__,f,i))&&("__data__"in s&&(l.__data__=s.__data__),u[f]=l);return new O(n,this._parents)}function hr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Hi(){return[]}function Lt(t){return t==null?Hi:function(){return this.querySelectorAll(t)}}function Gi(t){return function(){return hr(t.apply(this,arguments))}}function sn(t){typeof t=="function"?t=Gi(t):t=Lt(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],u=a.length,s,l=0;l<u;++l)(s=a[l])&&(n.push(t.call(s,s.__data__,l,a)),o.push(s));return new O(n,o)}function Ht(t){return function(){return this.matches(t)}}function ye(t){return function(e){return e.matches(t)}}var Xi=Array.prototype.find;function Vi(t){return function(){return Xi.call(this.children,t)}}function Yi(){return this.firstElementChild}function ln(t){return this.select(t==null?Yi:Vi(typeof t=="function"?t:ye(t)))}var Wi=Array.prototype.filter;function Ki(){return Array.from(this.children)}function Qi(t){return function(){return Wi.call(this.children,t)}}function cn(t){return this.selectAll(t==null?Ki:Qi(typeof t=="function"?t:ye(t)))}function pn(t){typeof t!="function"&&(t=Ht(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,u=n[o]=[],s,l=0;l<a;++l)(s=i[l])&&t.call(s,s.__data__,l,i)&&u.push(s);return new O(n,this._parents)}function _e(t){return new Array(t.length)}function hn(){return new O(this._enter||this._groups.map(_e),this._parents)}function Gt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Gt.prototype={constructor:Gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mn(t){return function(){return t}}function Ui(t,e,r,n,o,i){for(var a=0,u,s=e.length,l=i.length;a<l;++a)(u=e[a])?(u.__data__=i[a],n[a]=u):r[a]=new Gt(t,i[a]);for(;a<s;++a)(u=e[a])&&(o[a]=u)}function Zi(t,e,r,n,o,i,a){var u,s,l=new Map,f=e.length,c=i.length,p=new Array(f),h;for(u=0;u<f;++u)(s=e[u])&&(p[u]=h=a.call(s,s.__data__,u,e)+"",l.has(h)?o[u]=s:l.set(h,s));for(u=0;u<c;++u)h=a.call(t,i[u],u,i)+"",(s=l.get(h))?(n[u]=s,s.__data__=i[u],l.delete(h)):r[u]=new Gt(t,i[u]);for(u=0;u<f;++u)(s=e[u])&&l.get(p[u])===s&&(o[u]=s)}function Ji(t){return t.__data__}function dn(t,e){if(!arguments.length)return Array.from(this,Ji);var r=e?Zi:Ui,n=this._parents,o=this._groups;typeof t!="function"&&(t=mn(t));for(var i=o.length,a=new Array(i),u=new Array(i),s=new Array(i),l=0;l<i;++l){var f=n[l],c=o[l],p=c.length,h=ji(t.call(f,f&&f.__data__,l,n)),m=h.length,w=u[l]=new Array(m),x=a[l]=new Array(m),v=s[l]=new Array(p);r(f,c,w,x,v,h,e);for(var y=0,g=0,_,R;y<m;++y)if(_=w[y]){for(y>=g&&(g=y+1);!(R=x[g])&&++g<m;);_._next=R||null}}return a=new O(a,n),a._enter=u,a._exit=s,a}function ji(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gn(){return new O(this._exit||this._groups.map(_e),this._parents)}function xn(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function wn(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),u=new Array(o),s=0;s<a;++s)for(var l=r[s],f=n[s],c=l.length,p=u[s]=new Array(c),h,m=0;m<c;++m)(h=l[m]||f[m])&&(p[m]=h);for(;s<o;++s)u[s]=r[s];return new O(u,this._parents)}function vn(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function yn(t){t||(t=ta);function e(c,p){return c&&p?t(c.__data__,p.__data__):!c-!p}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],u=a.length,s=o[i]=new Array(u),l,f=0;f<u;++f)(l=a[f])&&(s[f]=l);s.sort(e)}return new O(o,this._parents).order()}function ta(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _n(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rn(){return Array.from(this)}function bn(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function En(){let t=0;for(let e of this)++t;return t}function Sn(){return!this.node()}function Mn(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,u;i<a;++i)(u=o[i])&&t.call(u,u.__data__,i,o);return this}function ea(t){return function(){this.removeAttribute(t)}}function ra(t){return function(){this.removeAttributeNS(t.space,t.local)}}function na(t,e){return function(){this.setAttribute(t,e)}}function oa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ia(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function aa(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function An(t,e){var r=lt(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?ra:ea:typeof e=="function"?r.local?aa:ia:r.local?oa:na)(r,e))}function Re(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ua(t){return function(){this.style.removeProperty(t)}}function fa(t,e,r){return function(){this.style.setProperty(t,e,r)}}function sa(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function kn(t,e,r){return arguments.length>1?this.each((e==null?ua:typeof e=="function"?sa:fa)(t,e,r??"")):dt(this.node(),t)}function dt(t,e){return t.style.getPropertyValue(e)||Re(t).getComputedStyle(t,null).getPropertyValue(e)}function la(t){return function(){delete this[t]}}function ca(t,e){return function(){this[t]=e}}function pa(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Nn(t,e){return arguments.length>1?this.each((e==null?la:typeof e=="function"?pa:ca)(t,e)):this.node()[t]}function In(t){return t.trim().split(/^|\s+/)}function mr(t){return t.classList||new zn(t)}function zn(t){this._node=t,this._names=In(t.getAttribute("class")||"")}zn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pn(t,e){for(var r=mr(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function Cn(t,e){for(var r=mr(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function ha(t){return function(){Pn(this,t)}}function ma(t){return function(){Cn(this,t)}}function da(t,e){return function(){(e.apply(this,arguments)?Pn:Cn)(this,t)}}function Tn(t,e){var r=In(t+"");if(arguments.length<2){for(var n=mr(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?da:e?ha:ma)(r,e))}function ga(){this.textContent=""}function xa(t){return function(){this.textContent=t}}function wa(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qn(t){return arguments.length?this.each(t==null?ga:(typeof t=="function"?wa:xa)(t)):this.node().textContent}function va(){this.innerHTML=""}function ya(t){return function(){this.innerHTML=t}}function _a(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function On(t){return arguments.length?this.each(t==null?va:(typeof t=="function"?_a:ya)(t)):this.node().innerHTML}function Ra(){this.nextSibling&&this.parentNode.appendChild(this)}function $n(){return this.each(Ra)}function ba(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dn(){return this.each(ba)}function Fn(t){var e=typeof t=="function"?t:ve(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ea(){return null}function Bn(t,e){var r=typeof t=="function"?t:ve(t),n=e==null?Ea:typeof e=="function"?e:Rt(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Sa(){var t=this.parentNode;t&&t.removeChild(this)}function Ln(){return this.each(Sa)}function Ma(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Aa(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hn(t){return this.select(t?Aa:Ma)}function Gn(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ka(t){return function(e){t.call(this,e,this.__data__)}}function Na(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function Ia(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function za(t,e,r){return function(){var n=this.__on,o,i=ka(e);if(n){for(var a=0,u=n.length;a<u;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function Xn(t,e,r){var n=Na(t+""),o,i=n.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var s=0,l=u.length,f;s<l;++s)for(o=0,f=u[s];o<i;++o)if((a=n[o]).type===f.type&&a.name===f.name)return f.value}return}for(u=e?za:Ia,o=0;o<i;++o)this.each(u(n[o],e,r));return this}function Vn(t,e,r){var n=Re(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Pa(t,e){return function(){return Vn(this,t,e)}}function Ca(t,e){return function(){return Vn(this,t,e.apply(this,arguments))}}function Yn(t,e){return this.each((typeof e=="function"?Ca:Pa)(t,e))}function*Wn(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var dr=[null];function O(t,e){this._groups=t,this._parents=e}function Kn(){return new O([[document.documentElement]],dr)}function Ta(){return this}O.prototype=Kn.prototype={constructor:O,select:fn,selectAll:sn,selectChild:ln,selectChildren:cn,filter:pn,data:dn,enter:hn,exit:gn,join:xn,merge:wn,selection:Ta,order:vn,sort:yn,call:_n,nodes:Rn,node:bn,size:En,empty:Sn,each:Mn,attr:An,style:kn,property:Nn,classed:Tn,text:qn,html:On,raise:$n,lower:Dn,append:Fn,insert:Bn,remove:Ln,clone:Hn,datum:Gn,on:Xn,dispatch:Yn,[Symbol.iterator]:Wn};var ct=Kn;function be(t){return typeof t=="string"?new O([[document.querySelector(t)]],[document.documentElement]):new O([[t]],dr)}function Ee(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function gr(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Yt(){}var Xt=.7,Ae=1/Xt,It="\\s*([+-]?\\d+)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qa=/^#([0-9a-f]{3,8})$/,Oa=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),$a=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),Da=new RegExp(`^rgba\\(${It},${It},${It},${Vt}\\)$`),Fa=new RegExp(`^rgba\\(${rt},${rt},${rt},${Vt}\\)$`),Ba=new RegExp(`^hsl\\(${Vt},${rt},${rt}\\)$`),La=new RegExp(`^hsla\\(${Vt},${rt},${rt},${Vt}\\)$`),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ee(Yt,gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Un,formatHex:Un,formatHex8:Ha,formatHsl:Ga,formatRgb:Zn,toString:Zn});function Un(){return this.rgb().formatHex()}function Ha(){return this.rgb().formatHex8()}function Ga(){return no(this).formatHsl()}function Zn(){return this.rgb().formatRgb()}function gt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qa.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Jn(e):r===3?new K(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Se(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Se(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Oa.exec(t))?new K(e[1],e[2],e[3],1):(e=$a.exec(t))?new K(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Da.exec(t))?Se(e[1],e[2],e[3],e[4]):(e=Fa.exec(t))?Se(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ba.exec(t))?eo(e[1],e[2]/100,e[3]/100,1):(e=La.exec(t))?eo(e[1],e[2]/100,e[3]/100,e[4]):Qn.hasOwnProperty(t)?Jn(Qn[t]):t==="transparent"?new K(NaN,NaN,NaN,0):null}function Jn(t){return new K(t>>16&255,t>>8&255,t&255,1)}function Se(t,e,r,n){return n<=0&&(t=e=r=NaN),new K(t,e,r,n)}function Xa(t){return t instanceof Yt||(t=gt(t)),t?(t=t.rgb(),new K(t.r,t.g,t.b,t.opacity)):new K}function zt(t,e,r,n){return arguments.length===1?Xa(t):new K(t,e,r,n??1)}function K(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ee(K,zt,gr(Yt,{brighter(t){return t=t==null?Ae:Math.pow(Ae,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new K(Et(this.r),Et(this.g),Et(this.b),ke(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jn,formatHex:jn,formatHex8:Va,formatRgb:to,toString:to}));function jn(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}`}function Va(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}${bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function to(){let t=ke(this.opacity);return`${t===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${t===1?")":`, ${t})`}`}function ke(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bt(t){return t=Et(t),(t<16?"0":"")+t.toString(16)}function eo(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new tt(t,e,r,n)}function no(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=gt(t)),!t)return new tt;if(t instanceof tt)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,u=i-o,s=(i+o)/2;return u?(e===i?a=(r-n)/u+(r<n)*6:r===i?a=(n-e)/u+2:a=(e-r)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new tt(a,u,s,t.opacity)}function oo(t,e,r,n){return arguments.length===1?no(t):new tt(t,e,r,n??1)}function tt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ee(tt,oo,gr(Yt,{brighter(t){return t=t==null?Ae:Math.pow(Ae,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new K(xr(t>=240?t-240:t+120,o,n),xr(t,o,n),xr(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new tt(ro(this.h),Me(this.s),Me(this.l),ke(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ke(this.opacity);return`${t===1?"hsl(":"hsla("}${ro(this.h)}, ${Me(this.s)*100}%, ${Me(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ro(t){return t=(t||0)%360,t<0?t+360:t}function Me(t){return Math.max(0,Math.min(1,t||0))}function xr(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function wr(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function io(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,u=n<e-1?t[n+2]:2*i-o;return wr((r-n/e)*e,a,o,i,u)}}function ao(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],u=t[(n+2)%e];return wr((r-n/e)*e,o,i,a,u)}}var vr=t=>()=>t;function Ya(t,e){return function(r){return t+r*e}}function Wa(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function uo(t){return(t=+t)==1?Ne:function(e,r){return r-e?Wa(e,r,t):vr(isNaN(e)?r:e)}}function Ne(t,e){var r=e-t;return r?Ya(t,r):vr(isNaN(t)?e:t)}var Ie=function t(e){var r=uo(e);function n(o,i){var a=r((o=zt(o)).r,(i=zt(i)).r),u=r(o.g,i.g),s=r(o.b,i.b),l=Ne(o.opacity,i.opacity);return function(f){return o.r=a(f),o.g=u(f),o.b=s(f),o.opacity=l(f),o+""}}return n.gamma=t,n}(1);function fo(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,u;for(a=0;a<r;++a)u=zt(e[a]),n[a]=u.r||0,o[a]=u.g||0,i[a]=u.b||0;return n=t(n),o=t(o),i=t(i),u.opacity=1,function(s){return u.r=n(s),u.g=o(s),u.b=i(s),u+""}}}var Ka=fo(io),Qa=fo(ao);function J(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var _r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yr=new RegExp(_r.source,"g");function Ua(t){return function(){return t}}function Za(t){return function(e){return t(e)+""}}function Rr(t,e){var r=_r.lastIndex=yr.lastIndex=0,n,o,i,a=-1,u=[],s=[];for(t=t+"",e=e+"";(n=_r.exec(t))&&(o=yr.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(o=o[0])?u[a]?u[a]+=o:u[++a]=o:(u[++a]=null,s.push({i:a,x:J(n,o)})),r=yr.lastIndex;return r<e.length&&(i=e.slice(r),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?Za(s[0].x):Ua(e):(e=s.length,function(l){for(var f=0,c;f<e;++f)u[(c=s[f]).i]=c.x(l);return u.join("")})}var so=180/Math.PI,ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function br(t,e,r,n,o,i){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*r+e*n)&&(r-=t*s,n-=e*s),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,s/=u),t*n<e*r&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*so,skewX:Math.atan(s)*so,scaleX:a,scaleY:u}}var Pe;function lo(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ze:br(e.a,e.b,e.c,e.d,e.e,e.f)}function co(t){return t==null?ze:(Pe||(Pe=document.createElementNS("http://www.w3.org/2000/svg","g")),Pe.setAttribute("transform",t),(t=Pe.transform.baseVal.consolidate())?(t=t.matrix,br(t.a,t.b,t.c,t.d,t.e,t.f)):ze)}function po(t,e,r,n){function o(l){return l.length?l.pop()+" ":""}function i(l,f,c,p,h,m){if(l!==c||f!==p){var w=h.push("translate(",null,e,null,r);m.push({i:w-4,x:J(l,c)},{i:w-2,x:J(f,p)})}else(c||p)&&h.push("translate("+c+e+p+r)}function a(l,f,c,p){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),p.push({i:c.push(o(c)+"rotate(",null,n)-2,x:J(l,f)})):f&&c.push(o(c)+"rotate("+f+n)}function u(l,f,c,p){l!==f?p.push({i:c.push(o(c)+"skewX(",null,n)-2,x:J(l,f)}):f&&c.push(o(c)+"skewX("+f+n)}function s(l,f,c,p,h,m){if(l!==c||f!==p){var w=h.push(o(h)+"scale(",null,",",null,")");m.push({i:w-4,x:J(l,c)},{i:w-2,x:J(f,p)})}else(c!==1||p!==1)&&h.push(o(h)+"scale("+c+","+p+")")}return function(l,f){var c=[],p=[];return l=t(l),f=t(f),i(l.translateX,l.translateY,f.translateX,f.translateY,c,p),a(l.rotate,f.rotate,c,p),u(l.skewX,f.skewX,c,p),s(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,p),l=f=null,function(h){for(var m=-1,w=p.length,x;++m<w;)c[(x=p[m]).i]=x.x(h);return c.join("")}}}var Er=po(lo,"px, ","px)","deg)"),Sr=po(co,", ",")",")");var Pt=0,Kt=0,Wt=0,mo=1e3,Ce,Qt,Te=0,St=0,qe=0,Ut=typeof performance=="object"&&performance.now?performance:Date,go=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jt(){return St||(go(Ja),St=Ut.now()+qe)}function Ja(){St=0}function Zt(){this._call=this._time=this._next=null}Zt.prototype=Oe.prototype={constructor:Zt,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Jt():+r)+(e==null?0:+e),!this._next&&Qt!==this&&(Qt?Qt._next=this:Ce=this,Qt=this),this._call=t,this._time=r,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};function Oe(t,e,r){var n=new Zt;return n.restart(t,e,r),n}function xo(){Jt(),++Pt;for(var t=Ce,e;t;)(e=St-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function ho(){St=(Te=Ut.now())+qe,Pt=Kt=0;try{xo()}finally{Pt=0,tu(),St=0}}function ja(){var t=Ut.now(),e=t-Te;e>mo&&(qe-=e,Te=t)}function tu(){for(var t,e=Ce,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Ce=r);Qt=t,Mr(n)}function Mr(t){if(!Pt){Kt&&(Kt=clearTimeout(Kt));var e=t-St;e>24?(t<1/0&&(Kt=setTimeout(ho,t-Ut.now()-qe)),Wt&&(Wt=clearInterval(Wt))):(Wt||(Te=Ut.now(),Wt=setInterval(ja,mo)),Pt=1,go(ho))}}function $e(t,e,r){var n=new Zt;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var eu=cr("start","end","cancel","interrupt"),ru=[],yo=0,wo=1,Fe=2,De=3,vo=4,Be=5,jt=6;function xt(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;nu(t,r,{name:e,index:n,group:o,on:eu,tween:ru,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:yo})}function te(t,e){var r=D(t,e);if(r.state>yo)throw new Error("too late; already scheduled");return r}function H(t,e){var r=D(t,e);if(r.state>De)throw new Error("too late; already running");return r}function D(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function nu(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=Oe(i,0,r.time);function i(l){r.state=wo,r.timer.restart(a,r.delay,r.time),r.delay<=l&&a(l-r.delay)}function a(l){var f,c,p,h;if(r.state!==wo)return s();for(f in n)if(h=n[f],h.name===r.name){if(h.state===De)return $e(a);h.state===vo?(h.state=jt,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete n[f]):+f<e&&(h.state=jt,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete n[f])}if($e(function(){r.state===De&&(r.state=vo,r.timer.restart(u,r.delay,r.time),u(l))}),r.state=Fe,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Fe){for(r.state=De,o=new Array(p=r.tween.length),f=0,c=-1;f<p;++f)(h=r.tween[f].value.call(t,t.__data__,r.index,r.group))&&(o[++c]=h);o.length=c+1}}function u(l){for(var f=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(s),r.state=Be,1),c=-1,p=o.length;++c<p;)o[c].call(t,f);r.state===Be&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){r.state=jt,r.timer.stop(),delete n[e];for(var l in n)return;delete t.__transition}}function Le(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>Fe&&n.state<Be,n.state=jt,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function _o(t){return this.each(function(){Le(this,t)})}function ou(t,e){var r,n;return function(){var o=H(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,u=n.length;a<u;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function iu(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=H(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var u={name:e,value:r},s=0,l=o.length;s<l;++s)if(o[s].name===e){o[s]=u;break}s===l&&o.push(u)}i.tween=o}}function Ro(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=D(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?ou:iu)(r,t,e))}function Ct(t,e,r){var n=t._id;return t.each(function(){var o=H(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return D(o,n).value[e]}}function He(t,e){var r;return(typeof e=="number"?J:e instanceof gt?Ie:(r=gt(e))?(e=r,Ie):Rr)(t,e)}function au(t){return function(){this.removeAttribute(t)}}function uu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fu(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function su(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function lu(t,e,r){var n,o,i;return function(){var a,u=r(this),s;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=u+"",a===s?null:a===n&&s===o?i:(o=s,i=e(n=a,u)))}}function cu(t,e,r){var n,o,i;return function(){var a,u=r(this),s;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===n&&s===o?i:(o=s,i=e(n=a,u)))}}function bo(t,e){var r=lt(t),n=r==="transform"?Sr:He;return this.attrTween(t,typeof e=="function"?(r.local?cu:lu)(r,n,Ct(this,"attr."+t,e)):e==null?(r.local?uu:au)(r):(r.local?su:fu)(r,n,e))}function pu(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function hu(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function mu(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&hu(t,i)),r}return o._value=e,o}function du(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&pu(t,i)),r}return o._value=e,o}function Eo(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=lt(t);return this.tween(r,(n.local?mu:du)(n,e))}function gu(t,e){return function(){te(this,t).delay=+e.apply(this,arguments)}}function xu(t,e){return e=+e,function(){te(this,t).delay=e}}function So(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gu:xu)(e,t)):D(this.node(),e).delay}function wu(t,e){return function(){H(this,t).duration=+e.apply(this,arguments)}}function vu(t,e){return e=+e,function(){H(this,t).duration=e}}function Mo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wu:vu)(e,t)):D(this.node(),e).duration}function yu(t,e){if(typeof e!="function")throw new Error;return function(){H(this,t).ease=e}}function Ao(t){var e=this._id;return arguments.length?this.each(yu(e,t)):D(this.node(),e).ease}function _u(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;H(this,t).ease=r}}function ko(t){if(typeof t!="function")throw new Error;return this.each(_u(this._id,t))}function No(t){typeof t!="function"&&(t=Ht(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,u=n[o]=[],s,l=0;l<a;++l)(s=i[l])&&t.call(s,s.__data__,l,i)&&u.push(s);return new X(n,this._parents,this._name,this._id)}function Io(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),u=0;u<i;++u)for(var s=e[u],l=r[u],f=s.length,c=a[u]=new Array(f),p,h=0;h<f;++h)(p=s[h]||l[h])&&(c[h]=p);for(;u<n;++u)a[u]=e[u];return new X(a,this._parents,this._name,this._id)}function Ru(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function bu(t,e,r){var n,o,i=Ru(e)?te:H;return function(){var a=i(this,t),u=a.on;u!==n&&(o=(n=u).copy()).on(e,r),a.on=o}}function zo(t,e){var r=this._id;return arguments.length<2?D(this.node(),r).on.on(t):this.each(bu(r,t,e))}function Eu(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Po(){return this.on("end.remove",Eu(this._id))}function Co(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Rt(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var u=n[a],s=u.length,l=i[a]=new Array(s),f,c,p=0;p<s;++p)(f=u[p])&&(c=t.call(f,f.__data__,p,u))&&("__data__"in f&&(c.__data__=f.__data__),l[p]=c,xt(l[p],e,r,p,l,D(f,r)));return new X(i,this._parents,e,r)}function To(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Lt(t));for(var n=this._groups,o=n.length,i=[],a=[],u=0;u<o;++u)for(var s=n[u],l=s.length,f,c=0;c<l;++c)if(f=s[c]){for(var p=t.call(f,f.__data__,c,s),h,m=D(f,r),w=0,x=p.length;w<x;++w)(h=p[w])&&xt(h,e,r,w,p,m);i.push(p),a.push(f)}return new X(i,a,e,r)}var Su=ct.prototype.constructor;function qo(){return new Su(this._groups,this._parents)}function Mu(t,e){var r,n,o;return function(){var i=dt(this,t),a=(this.style.removeProperty(t),dt(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function Oo(t){return function(){this.style.removeProperty(t)}}function Au(t,e,r){var n,o=r+"",i;return function(){var a=dt(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function ku(t,e,r){var n,o,i;return function(){var a=dt(this,t),u=r(this),s=u+"";return u==null&&(s=u=(this.style.removeProperty(t),dt(this,t))),a===s?null:a===n&&s===o?i:(o=s,i=e(n=a,u))}}function Nu(t,e){var r,n,o,i="style."+e,a="end."+i,u;return function(){var s=H(this,t),l=s.on,f=s.value[i]==null?u||(u=Oo(e)):void 0;(l!==r||o!==f)&&(n=(r=l).copy()).on(a,o=f),s.on=n}}function $o(t,e,r){var n=(t+="")=="transform"?Er:He;return e==null?this.styleTween(t,Mu(t,n)).on("end.style."+t,Oo(t)):typeof e=="function"?this.styleTween(t,ku(t,n,Ct(this,"style."+t,e))).each(Nu(this._id,t)):this.styleTween(t,Au(t,n,e),r).on("end.style."+t,null)}function Iu(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function zu(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&Iu(t,a,r)),n}return i._value=e,i}function Do(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,zu(t,e,r??""))}function Pu(t){return function(){this.textContent=t}}function Cu(t){return function(){var e=t(this);this.textContent=e??""}}function Fo(t){return this.tween("text",typeof t=="function"?Cu(Ct(this,"text",t)):Pu(t==null?"":t+""))}function Tu(t){return function(e){this.textContent=t.call(this,e)}}function qu(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Tu(o)),e}return n._value=t,n}function Bo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,qu(t))}function Lo(){for(var t=this._name,e=this._id,r=Ge(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],u=a.length,s,l=0;l<u;++l)if(s=a[l]){var f=D(s,e);xt(s,t,r,l,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new X(n,this._parents,t,r)}function Ho(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var u={value:a},s={value:function(){--o===0&&i()}};r.each(function(){var l=H(this,n),f=l.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),l.on=e}),o===0&&i()})}var Ou=0;function X(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Go(t){return ct().transition(t)}function Ge(){return++Ou}var pt=ct.prototype;X.prototype=Go.prototype={constructor:X,select:Co,selectAll:To,selectChild:pt.selectChild,selectChildren:pt.selectChildren,filter:No,merge:Io,selection:qo,transition:Lo,call:pt.call,nodes:pt.nodes,node:pt.node,size:pt.size,empty:pt.empty,each:pt.each,on:zo,attr:bo,attrTween:Eo,style:$o,styleTween:Do,text:Fo,textTween:Bo,remove:Po,tween:Ro,delay:So,duration:Mo,ease:Ao,easeVarying:ko,end:Ho,[Symbol.iterator]:pt[Symbol.iterator]};function Xe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var $u={time:null,delay:0,duration:250,ease:Xe};function Du(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Xo(t){var e,r;t instanceof X?(e=t._id,t=t._name):(e=Ge(),(r=$u).time=Jt(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],u=a.length,s,l=0;l<u;++l)(s=a[l])&&xt(s,t,e,l,a,r||Du(s,e));return new X(n,this._parents,t,e)}ct.prototype.interrupt=_o;ct.prototype.transition=Xo;var{abs:mh,max:dh,min:gh}=Math;function Vo(t){return[+t[0],+t[1]]}function Fu(t){return[Vo(t[0]),Vo(t[1])]}var xh={name:"x",handles:["w","e"].map(Ar),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},wh={name:"y",handles:["n","s"].map(Ar),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},vh={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ar),input:function(t){return t==null?null:Fu(t)},output:function(t){return t}};function Ar(t){return{type:t}}var b=1e-6,Yo=1e-12,M=Math.PI,V=M/2,kr=M/4,G=M*2,j=180/M,B=M/180,I=Math.abs,Wo=Math.atan,ht=Math.atan2,P=Math.cos,ee=Math.ceil;var T=Math.sin,Ko=Math.sign||function(t){return t>0?1:t<0?-1:0},U=Math.sqrt;function Qo(t){return t>1?0:t<-1?M:Math.acos(t)}function mt(t){return t>1?V:t<-1?-V:Math.asin(t)}function L(){}function Ve(t,e){t&&Zo.hasOwnProperty(t.type)&&Zo[t.type](t,e)}var Uo={Feature:function(t,e){Ve(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)Ve(r[n].geometry,e)}},Zo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Nr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)Nr(r[n],e,0)},Polygon:function(t,e){Jo(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)Jo(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)Ve(r[n],e)}};function Nr(t,e,r){var n=-1,o=t.length-r,i;for(e.lineStart();++n<o;)i=t[n],e.point(i[0],i[1],i[2]);e.lineEnd()}function Jo(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)Nr(t[r],e,1);e.polygonEnd()}function wt(t,e){t&&Uo.hasOwnProperty(t.type)?Uo[t.type](t,e):Ve(t,e)}function re(t){return[ht(t[1],t[0]),mt(t[2])]}function nt(t){var e=t[0],r=t[1],n=P(r);return[n*P(e),n*T(e),T(r)]}function ne(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Tt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function oe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ie(t){var e=U(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ae(t,e){function r(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),r}function Ir(t,e){return I(t)>M&&(t-=Math.round(t/G)*G),[t,e]}Ir.invert=Ir;function ri(t,e,r){return(t%=G)?e||r?ae(ti(t),ei(e,r)):ti(t):e||r?ei(e,r):Ir}function jo(t){return function(e,r){return e+=t,I(e)>M&&(e-=Math.round(e/G)*G),[e,r]}}function ti(t){var e=jo(t);return e.invert=jo(-t),e}function ei(t,e){var r=P(t),n=T(t),o=P(e),i=T(e);function a(u,s){var l=P(s),f=P(u)*l,c=T(u)*l,p=T(s),h=p*r+f*n;return[ht(c*o-h*i,f*r-p*n),mt(h*o+c*i)]}return a.invert=function(u,s){var l=P(s),f=P(u)*l,c=T(u)*l,p=T(s),h=p*o-c*i;return[ht(c*o+p*i,f*r+h*n),mt(h*r-f*n)]},a}function oi(t,e,r,n,o,i){if(r){var a=P(e),u=T(e),s=n*r;o==null?(o=e+n*G,i=e-s/2):(o=ni(a,o),i=ni(a,i),(n>0?o<i:o>i)&&(o+=n*G));for(var l,f=o;n>0?f>i:f<i;f-=s)l=re([a,-u*P(f),-u*T(f)]),t.point(l[0],l[1])}}function ni(t,e){e=nt(e),e[0]-=t,ie(e);var r=Qo(-e[1]);return((-e[2]<0?-r:r)+G-b)%G}function We(){var t=[],e;return{point:function(r,n,o){e.push([r,n,o])},lineStart:function(){t.push(e=[])},lineEnd:L,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function qt(t,e){return I(t[0]-e[0])<b&&I(t[1]-e[1])<b}function Ke(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Qe(t,e,r,n,o){var i=[],a=[],u,s;if(t.forEach(function(m){if(!((w=m.length-1)<=0)){var w,x=m[0],v=m[w],y;if(qt(x,v)){if(!x[2]&&!v[2]){for(o.lineStart(),u=0;u<w;++u)o.point((x=m[u])[0],x[1]);o.lineEnd();return}v[0]+=2*b}i.push(y=new Ke(x,m,null,!0)),a.push(y.o=new Ke(x,null,y,!1)),i.push(y=new Ke(v,m,null,!1)),a.push(y.o=new Ke(v,null,y,!0))}}),!!i.length){for(a.sort(e),ii(i),ii(a),u=0,s=a.length;u<s;++u)a[u].e=r=!r;for(var l=i[0],f,c;;){for(var p=l,h=!0;p.v;)if((p=p.n)===l)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(u=0,s=f.length;u<s;++u)o.point((c=f[u])[0],c[1]);else n(p.x,p.n.x,1,o);p=p.n}else{if(h)for(f=p.p.z,u=f.length-1;u>=0;--u)o.point((c=f[u])[0],c[1]);else n(p.x,p.p.x,-1,o);p=p.p}p=p.o,f=p.z,h=!h}while(!p.v);o.lineEnd()}}}function ii(t){if(e=t.length){for(var e,r=0,n=t[0],o;++r<e;)n.n=o=t[r],o.p=n,n=o;n.n=o=t[0],o.p=n}}function zr(t){return I(t[0])<=M?t[0]:Ko(t[0])*((I(t[0])+M)%G-M)}function ai(t,e){var r=zr(e),n=e[1],o=T(n),i=[T(r),-P(r),0],a=0,u=0,s=new Q;o===1?n=V+b:o===-1&&(n=-V-b);for(var l=0,f=t.length;l<f;++l)if(p=(c=t[l]).length)for(var c,p,h=c[p-1],m=zr(h),w=h[1]/2+kr,x=T(w),v=P(w),y=0;y<p;++y,m=_,x=S,v=z,h=g){var g=c[y],_=zr(g),R=g[1]/2+kr,S=T(R),z=P(R),k=_-m,N=k>=0?1:-1,q=N*k,E=q>M,Y=x*S;if(s.add(ht(Y*N*T(q),v*z+Y*P(q))),a+=E?k+N*G:k,E^m>=r^_>=r){var $=Tt(nt(h),nt(g));ie($);var C=Tt(i,$);ie(C);var d=(E^k>=0?-1:1)*mt(C[2]);(n>d||n===d&&($[0]||$[1]))&&(u+=E^k>=0?1:-1)}}return(a<-b||a<b&&s<-Yo)^u&1}function Ue(t,e,r,n){return function(o){var i=e(o),a=We(),u=e(a),s=!1,l,f,c,p={point:h,lineStart:w,lineEnd:x,polygonStart:function(){p.point=v,p.lineStart=y,p.lineEnd=g,f=[],l=[]},polygonEnd:function(){p.point=h,p.lineStart=w,p.lineEnd=x,f=Nt(f);var _=ai(l,n);f.length?(s||(o.polygonStart(),s=!0),Qe(f,Lu,_,r,o)):_&&(s||(o.polygonStart(),s=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),s&&(o.polygonEnd(),s=!1),f=l=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(_,R){t(_,R)&&o.point(_,R)}function m(_,R){i.point(_,R)}function w(){p.point=m,i.lineStart()}function x(){p.point=h,i.lineEnd()}function v(_,R){c.push([_,R]),u.point(_,R)}function y(){u.lineStart(),c=[]}function g(){v(c[0][0],c[0][1]),u.lineEnd();var _=u.clean(),R=a.result(),S,z=R.length,k,N,q;if(c.pop(),l.push(c),c=null,!!z){if(_&1){if(N=R[0],(k=N.length-1)>0){for(s||(o.polygonStart(),s=!0),o.lineStart(),S=0;S<k;++S)o.point((q=N[S])[0],q[1]);o.lineEnd()}return}z>1&&_&2&&R.push(R.pop().concat(R.shift())),f.push(R.filter(Bu))}}return p}}function Bu(t){return t.length>1}function Lu(t,e){return((t=t.x)[0]<0?t[1]-V-b:V-t[1])-((e=e.x)[0]<0?e[1]-V-b:V-e[1])}var Pr=Ue(function(){return!0},Hu,Xu,[-M,-V]);function Hu(t){var e=NaN,r=NaN,n=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var u=i>0?M:-M,s=I(i-e);I(s-M)<b?(t.point(e,r=(r+a)/2>0?V:-V),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(i,r),o=0):n!==u&&s>=M&&(I(e-n)<b&&(e-=n*b),I(i-u)<b&&(i-=u*b),r=Gu(e,r,i,a),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(u,r),o=0),t.point(e=i,r=a),n=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-o}}}function Gu(t,e,r,n){var o,i,a=T(t-r);return I(a)>b?Wo((T(e)*(i=P(n))*T(r)-T(n)*(o=P(e))*T(t))/(o*i*a)):(e+n)/2}function Xu(t,e,r,n){var o;if(t==null)o=r*V,n.point(-M,o),n.point(0,o),n.point(M,o),n.point(M,0),n.point(M,-o),n.point(0,-o),n.point(-M,-o),n.point(-M,0),n.point(-M,o);else if(I(t[0]-e[0])>b){var i=t[0]<e[0]?M:-M;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(e[0],e[1])}function ui(t){var e=P(t),r=6*B,n=e>0,o=I(e)>b;function i(f,c,p,h){oi(h,t,r,p,f,c)}function a(f,c){return P(f)*P(c)>e}function u(f){var c,p,h,m,w;return{lineStart:function(){m=h=!1,w=1},point:function(x,v){var y=[x,v],g,_=a(x,v),R=n?_?0:l(x,v):_?l(x+(x<0?M:-M),v):0;if(!c&&(m=h=_)&&f.lineStart(),_!==h&&(g=s(c,y),(!g||qt(c,g)||qt(y,g))&&(y[2]=1)),_!==h)w=0,_?(f.lineStart(),g=s(y,c),f.point(g[0],g[1])):(g=s(c,y),f.point(g[0],g[1],2),f.lineEnd()),c=g;else if(o&&c&&n^_){var S;!(R&p)&&(S=s(y,c,!0))&&(w=0,n?(f.lineStart(),f.point(S[0][0],S[0][1]),f.point(S[1][0],S[1][1]),f.lineEnd()):(f.point(S[1][0],S[1][1]),f.lineEnd(),f.lineStart(),f.point(S[0][0],S[0][1],3)))}_&&(!c||!qt(c,y))&&f.point(y[0],y[1]),c=y,h=_,p=R},lineEnd:function(){h&&f.lineEnd(),c=null},clean:function(){return w|(m&&h)<<1}}}function s(f,c,p){var h=nt(f),m=nt(c),w=[1,0,0],x=Tt(h,m),v=ne(x,x),y=x[0],g=v-y*y;if(!g)return!p&&f;var _=e*v/g,R=-e*y/g,S=Tt(w,x),z=oe(w,_),k=oe(x,R);Ye(z,k);var N=S,q=ne(z,N),E=ne(N,N),Y=q*q-E*(ne(z,z)-1);if(!(Y<0)){var $=U(Y),C=oe(N,(-q-$)/E);if(Ye(C,z),C=re(C),!p)return C;var d=f[0],A=c[0],F=f[1],W=c[1],Z;A<d&&(Z=d,d=A,A=Z);var Bt=A-d,ut=I(Bt-M)<b,_t=ut||Bt<b;if(!ut&&W<F&&(Z=F,F=W,W=Z),_t?ut?F+W>0^C[1]<(I(C[0]-d)<b?F:W):F<=C[1]&&C[1]<=W:Bt>M^(d<=C[0]&&C[0]<=A)){var ft=oe(N,(-q+$)/E);return Ye(ft,z),[C,re(ft)]}}}function l(f,c){var p=n?t:M-t,h=0;return f<-p?h|=1:f>p&&(h|=2),c<-p?h|=4:c>p&&(h|=8),h}return Ue(a,u,i,n?[0,-t]:[-M,t-M])}function fi(t,e,r,n,o,i){var a=t[0],u=t[1],s=e[0],l=e[1],f=0,c=1,p=s-a,h=l-u,m;if(m=r-a,!(!p&&m>0)){if(m/=p,p<0){if(m<f)return;m<c&&(c=m)}else if(p>0){if(m>c)return;m>f&&(f=m)}if(m=o-a,!(!p&&m<0)){if(m/=p,p<0){if(m>c)return;m>f&&(f=m)}else if(p>0){if(m<f)return;m<c&&(c=m)}if(m=n-u,!(!h&&m>0)){if(m/=h,h<0){if(m<f)return;m<c&&(c=m)}else if(h>0){if(m>c)return;m>f&&(f=m)}if(m=i-u,!(!h&&m<0)){if(m/=h,h<0){if(m>c)return;m>f&&(f=m)}else if(h>0){if(m<f)return;m<c&&(c=m)}return f>0&&(t[0]=a+f*p,t[1]=u+f*h),c<1&&(e[0]=a+c*p,e[1]=u+c*h),!0}}}}}var ue=1e9,Ze=-ue;function Cr(t,e,r,n){function o(l,f){return t<=l&&l<=r&&e<=f&&f<=n}function i(l,f,c,p){var h=0,m=0;if(l==null||(h=a(l,c))!==(m=a(f,c))||s(l,f)<0^c>0)do p.point(h===0||h===3?t:r,h>1?n:e);while((h=(h+c+4)%4)!==m);else p.point(f[0],f[1])}function a(l,f){return I(l[0]-t)<b?f>0?0:3:I(l[0]-r)<b?f>0?2:1:I(l[1]-e)<b?f>0?1:0:f>0?3:2}function u(l,f){return s(l.x,f.x)}function s(l,f){var c=a(l,1),p=a(f,1);return c!==p?c-p:c===0?f[1]-l[1]:c===1?l[0]-f[0]:c===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,c=We(),p,h,m,w,x,v,y,g,_,R,S,z={point:k,lineStart:Y,lineEnd:$,polygonStart:q,polygonEnd:E};function k(d,A){o(d,A)&&f.point(d,A)}function N(){for(var d=0,A=0,F=h.length;A<F;++A)for(var W=h[A],Z=1,Bt=W.length,ut=W[0],_t,ft,ge=ut[0],kt=ut[1];Z<Bt;++Z)_t=ge,ft=kt,ut=W[Z],ge=ut[0],kt=ut[1],ft<=n?kt>n&&(ge-_t)*(n-ft)>(kt-ft)*(t-_t)&&++d:kt<=n&&(ge-_t)*(n-ft)<(kt-ft)*(t-_t)&&--d;return d}function q(){f=c,p=[],h=[],S=!0}function E(){var d=N(),A=S&&d,F=(p=Nt(p)).length;(A||F)&&(l.polygonStart(),A&&(l.lineStart(),i(null,null,1,l),l.lineEnd()),F&&Qe(p,u,d,i,l),l.polygonEnd()),f=l,p=h=m=null}function Y(){z.point=C,h&&h.push(m=[]),R=!0,_=!1,y=g=NaN}function $(){p&&(C(w,x),v&&_&&c.rejoin(),p.push(c.result())),z.point=k,_&&f.lineEnd()}function C(d,A){var F=o(d,A);if(h&&m.push([d,A]),R)w=d,x=A,v=F,R=!1,F&&(f.lineStart(),f.point(d,A));else if(F&&_)f.point(d,A);else{var W=[y=Math.max(Ze,Math.min(ue,y)),g=Math.max(Ze,Math.min(ue,g))],Z=[d=Math.max(Ze,Math.min(ue,d)),A=Math.max(Ze,Math.min(ue,A))];fi(W,Z,t,e,r,n)?(_||(f.lineStart(),f.point(W[0],W[1])),f.point(Z[0],Z[1]),F||f.lineEnd(),S=!1):F&&(f.lineStart(),f.point(d,A),S=!1)}y=d,g=A,_=F}return z}}function si(t,e,r){var n=st(t,e-b,r).concat(e);return function(o){return n.map(function(i){return[o,i]})}}function li(t,e,r){var n=st(t,e-b,r).concat(e);return function(o){return n.map(function(i){return[i,o]})}}function Je(){var t,e,r,n,o,i,a,u,s=10,l=s,f=90,c=360,p,h,m,w,x=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return st(ee(n/f)*f,r,f).map(m).concat(st(ee(u/c)*c,a,c).map(w)).concat(st(ee(e/s)*s,t,s).filter(function(g){return I(g%f)>b}).map(p)).concat(st(ee(i/l)*l,o,l).filter(function(g){return I(g%c)>b}).map(h))}return v.lines=function(){return y().map(function(g){return{type:"LineString",coordinates:g}})},v.outline=function(){return{type:"Polygon",coordinates:[m(n).concat(w(a).slice(1),m(r).reverse().slice(1),w(u).reverse().slice(1))]}},v.extent=function(g){return arguments.length?v.extentMajor(g).extentMinor(g):v.extentMinor()},v.extentMajor=function(g){return arguments.length?(n=+g[0][0],r=+g[1][0],u=+g[0][1],a=+g[1][1],n>r&&(g=n,n=r,r=g),u>a&&(g=u,u=a,a=g),v.precision(x)):[[n,u],[r,a]]},v.extentMinor=function(g){return arguments.length?(e=+g[0][0],t=+g[1][0],i=+g[0][1],o=+g[1][1],e>t&&(g=e,e=t,t=g),i>o&&(g=i,i=o,o=g),v.precision(x)):[[e,i],[t,o]]},v.step=function(g){return arguments.length?v.stepMajor(g).stepMinor(g):v.stepMinor()},v.stepMajor=function(g){return arguments.length?(f=+g[0],c=+g[1],v):[f,c]},v.stepMinor=function(g){return arguments.length?(s=+g[0],l=+g[1],v):[s,l]},v.precision=function(g){return arguments.length?(x=+g,p=si(i,o,90),h=li(e,t,x),m=si(u,a,90),w=li(n,r,x),v):x},v.extentMajor([[-180,-90+b],[180,90-b]]).extentMinor([[-180,-80-b],[180,80+b]])}var fe=t=>t;var Tr=new Q,qr=new Q,ci,pi,Or,$r,vt={point:L,lineStart:L,lineEnd:L,polygonStart:function(){vt.lineStart=Vu,vt.lineEnd=Wu},polygonEnd:function(){vt.lineStart=vt.lineEnd=vt.point=L,Tr.add(I(qr)),qr=new Q},result:function(){var t=Tr/2;return Tr=new Q,t}};function Vu(){vt.point=Yu}function Yu(t,e){vt.point=hi,ci=Or=t,pi=$r=e}function hi(t,e){qr.add($r*t-Or*e),Or=t,$r=e}function Wu(){hi(ci,pi)}var Dr=vt;var Ot=1/0,je=Ot,se=-Ot,tr=se,Ku={point:Qu,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L,result:function(){var t=[[Ot,je],[se,tr]];return se=tr=-(je=Ot=1/0),t}};function Qu(t,e){t<Ot&&(Ot=t),t>se&&(se=t),e<je&&(je=e),e>tr&&(tr=e)}var $t=Ku;var Fr=0,Br=0,le=0,er=0,rr=0,Dt=0,Lr=0,Hr=0,ce=0,gi,xi,ot,it,et={point:Mt,lineStart:mi,lineEnd:di,polygonStart:function(){et.lineStart=Ju,et.lineEnd=ju},polygonEnd:function(){et.point=Mt,et.lineStart=mi,et.lineEnd=di},result:function(){var t=ce?[Lr/ce,Hr/ce]:Dt?[er/Dt,rr/Dt]:le?[Fr/le,Br/le]:[NaN,NaN];return Fr=Br=le=er=rr=Dt=Lr=Hr=ce=0,t}};function Mt(t,e){Fr+=t,Br+=e,++le}function mi(){et.point=Uu}function Uu(t,e){et.point=Zu,Mt(ot=t,it=e)}function Zu(t,e){var r=t-ot,n=e-it,o=U(r*r+n*n);er+=o*(ot+t)/2,rr+=o*(it+e)/2,Dt+=o,Mt(ot=t,it=e)}function di(){et.point=Mt}function Ju(){et.point=tf}function ju(){wi(gi,xi)}function tf(t,e){et.point=wi,Mt(gi=ot=t,xi=it=e)}function wi(t,e){var r=t-ot,n=e-it,o=U(r*r+n*n);er+=o*(ot+t)/2,rr+=o*(it+e)/2,Dt+=o,o=it*t-ot*e,Lr+=o*(ot+t),Hr+=o*(it+e),ce+=o*3,Mt(ot=t,it=e)}var Gr=et;function nr(t){this._context=t}nr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,G);break}}},result:L};var Vr=new Q,Xr,vi,yi,pe,he,or={point:L,lineStart:function(){or.point=ef},lineEnd:function(){Xr&&_i(vi,yi),or.point=L},polygonStart:function(){Xr=!0},polygonEnd:function(){Xr=null},result:function(){var t=+Vr;return Vr=new Q,t}};function ef(t,e){or.point=_i,vi=pe=t,yi=he=e}function _i(t,e){pe-=t,he-=e,Vr.add(U(pe*pe+he*he)),pe=t,he=e}var Yr=or;var Ri,ir,bi,Ei,Ft=class{constructor(e){this._append=e==null?Si:rf(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==bi||this._append!==ir){let n=this._radius,o=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,bi=n,ir=this._append,Ei=this._,this._=o}this._+=Ei;break}}}result(){let e=this._;return this._="",e.length?e:null}};function Si(t){let e=1;this._+=t[0];for(let r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function rf(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Si;if(e!==Ri){let r=10**e;Ri=e,ir=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}return ir}function Wr(t,e){let r=3,n=4.5,o,i;function a(u){return u&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),wt(u,o(i))),i.result()}return a.area=function(u){return wt(u,o(Dr)),Dr.result()},a.measure=function(u){return wt(u,o(Yr)),Yr.result()},a.bounds=function(u){return wt(u,o($t)),$t.result()},a.centroid=function(u){return wt(u,o(Gr)),Gr.result()},a.projection=function(u){return arguments.length?(o=u==null?(t=null,fe):(t=u).stream,a):t},a.context=function(u){return arguments.length?(i=u==null?(e=null,new Ft(r)):new nr(e=u),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(u){return arguments.length?(n=typeof u=="function"?u:(i.pointRadius(+u),+u),a):n},a.digits=function(u){if(!arguments.length)return r;if(u==null)r=null;else{let s=Math.floor(u);if(!(s>=0))throw new RangeError(`invalid digits: ${u}`);r=s}return e===null&&(i=new Ft(r)),a},a.projection(t).digits(r).context(e)}function me(t){return function(e){var r=new Kr;for(var n in t)r[n]=t[n];return r.stream=e,r}}function Kr(){}Kr.prototype={constructor:Kr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qr(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),wt(r,t.stream($t)),e($t.result()),n!=null&&t.clipExtent(n),t}function Ur(t,e,r){return Qr(t,function(n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),u=+e[0][0]+(o-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([u,s])},r)}function Mi(t,e,r){return Ur(t,[[0,0],e],r)}function Ai(t,e,r){return Qr(t,function(n){var o=+e,i=o/(n[1][0]-n[0][0]),a=(o-i*(n[1][0]+n[0][0]))/2,u=-i*n[0][1];t.scale(150*i).translate([a,u])},r)}function ki(t,e,r){return Qr(t,function(n){var o=+e,i=o/(n[1][1]-n[0][1]),a=-i*n[0][0],u=(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,u])},r)}var Ni=16,nf=P(30*B);function Zr(t,e){return+e?af(t,e):of(t)}function of(t){return me({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function af(t,e){function r(n,o,i,a,u,s,l,f,c,p,h,m,w,x){var v=l-n,y=f-o,g=v*v+y*y;if(g>4*e&&w--){var _=a+p,R=u+h,S=s+m,z=U(_*_+R*R+S*S),k=mt(S/=z),N=I(I(S)-1)<b||I(i-c)<b?(i+c)/2:ht(R,_),q=t(N,k),E=q[0],Y=q[1],$=E-n,C=Y-o,d=y*$-v*C;(d*d/g>e||I((v*$+y*C)/g-.5)>.3||a*p+u*h+s*m<nf)&&(r(n,o,i,a,u,s,E,Y,N,_/=z,R/=z,S,w,x),x.point(E,Y),r(E,Y,N,_,R,S,l,f,c,p,h,m,w,x))}}return function(n){var o,i,a,u,s,l,f,c,p,h,m,w,x={point:v,lineStart:y,lineEnd:_,polygonStart:function(){n.polygonStart(),x.lineStart=R},polygonEnd:function(){n.polygonEnd(),x.lineStart=y}};function v(k,N){k=t(k,N),n.point(k[0],k[1])}function y(){c=NaN,x.point=g,n.lineStart()}function g(k,N){var q=nt([k,N]),E=t(k,N);r(c,p,f,h,m,w,c=E[0],p=E[1],f=k,h=q[0],m=q[1],w=q[2],Ni,n),n.point(c,p)}function _(){x.point=v,n.lineEnd()}function R(){y(),x.point=S,x.lineEnd=z}function S(k,N){g(o=k,N),i=c,a=p,u=h,s=m,l=w,x.point=g}function z(){r(c,p,f,h,m,w,i,a,o,u,s,l,Ni,n),x.lineEnd=_,_()}return x}}var uf=me({point:function(t,e){this.stream.point(t*B,e*B)}});function ff(t){return me({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function sf(t,e,r,n,o){function i(a,u){return a*=n,u*=o,[e+t*a,r-t*u]}return i.invert=function(a,u){return[(a-e)/t*n,(r-u)/t*o]},i}function Ii(t,e,r,n,o,i){if(!i)return sf(t,e,r,n,o);var a=P(i),u=T(i),s=a*t,l=u*t,f=a/t,c=u/t,p=(u*r-a*e)/t,h=(u*e+a*r)/t;function m(w,x){return w*=n,x*=o,[s*w-l*x+e,r-l*w-s*x]}return m.invert=function(w,x){return[n*(f*w-c*x+p),o*(h-c*w-f*x)]},m}function ar(t){return zi(function(){return t})()}function zi(t){var e,r=150,n=480,o=250,i=0,a=0,u=0,s=0,l=0,f,c=0,p=1,h=1,m=null,w=Pr,x=null,v,y,g,_=fe,R=.5,S,z,k,N,q;function E(d){return k(d[0]*B,d[1]*B)}function Y(d){return d=k.invert(d[0],d[1]),d&&[d[0]*j,d[1]*j]}E.stream=function(d){return N&&q===d?N:N=uf(ff(f)(w(S(_(q=d)))))},E.preclip=function(d){return arguments.length?(w=d,m=void 0,C()):w},E.postclip=function(d){return arguments.length?(_=d,x=v=y=g=null,C()):_},E.clipAngle=function(d){return arguments.length?(w=+d?ui(m=d*B):(m=null,Pr),C()):m*j},E.clipExtent=function(d){return arguments.length?(_=d==null?(x=v=y=g=null,fe):Cr(x=+d[0][0],v=+d[0][1],y=+d[1][0],g=+d[1][1]),C()):x==null?null:[[x,v],[y,g]]},E.scale=function(d){return arguments.length?(r=+d,$()):r},E.translate=function(d){return arguments.length?(n=+d[0],o=+d[1],$()):[n,o]},E.center=function(d){return arguments.length?(i=d[0]%360*B,a=d[1]%360*B,$()):[i*j,a*j]},E.rotate=function(d){return arguments.length?(u=d[0]%360*B,s=d[1]%360*B,l=d.length>2?d[2]%360*B:0,$()):[u*j,s*j,l*j]},E.angle=function(d){return arguments.length?(c=d%360*B,$()):c*j},E.reflectX=function(d){return arguments.length?(p=d?-1:1,$()):p<0},E.reflectY=function(d){return arguments.length?(h=d?-1:1,$()):h<0},E.precision=function(d){return arguments.length?(S=Zr(z,R=d*d),C()):U(R)},E.fitExtent=function(d,A){return Ur(E,d,A)},E.fitSize=function(d,A){return Mi(E,d,A)},E.fitWidth=function(d,A){return Ai(E,d,A)},E.fitHeight=function(d,A){return ki(E,d,A)};function $(){var d=Ii(r,0,0,p,h,c).apply(null,e(i,a)),A=Ii(r,n-d[0],o-d[1],p,h,c);return f=ri(u,s,l),z=ae(e,A),k=ae(f,z),S=Zr(z,R),C()}function C(){return N=q=null,E}return function(){return e=t.apply(this,arguments),E.invert=e.invert&&Y,$()}}function yt(t,e,r){this.k=t,this.x=e,this.y=r}yt.prototype={constructor:yt,scale:function(t){return t===1?this:new yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jr=new yt(1,0,0);jr.prototype=yt.prototype;function jr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Jr;return t.__zoom}var tn=Math.abs;var de=Math.cos;var At=Math.sin;var ur=1e-6;var at=Math.PI,cd=at/2,pd=at/4;var hd=fr(2),md=fr(at),dd=at*2,gd=180/at,xd=at/180;function Pi(t){return t?t/Math.sin(t):1}function en(t){return t>1?0:t<-1?at:Math.acos(t)}function fr(t){return t>0?Math.sqrt(t):0}function rn(t,e){var r=de(e),n=Pi(en(r*de(t/=2)));return[2*r*At(t)*n,At(e)*n]}rn.invert=function(t,e){if(!(t*t+4*e*e>at*at+ur)){var r=t,n=e,o=25;do{var i=At(r),a=At(r/2),u=de(r/2),s=At(n),l=de(n),f=At(2*n),c=s*s,p=l*l,h=a*a,m=1-p*u*u,w=m?en(l*u)*fr(x=1/m):x=0,x,v=2*w*l*a-t,y=w*s-e,g=x*(p*h+w*l*u*c),_=x*(.5*i*f-w*2*s*a),R=x*.25*(f*a-w*s*p*i),S=x*(c*u+w*h*l),z=_*R-S*g;if(!z)break;var k=(y*_-v*S)/z,N=(v*R-y*g)/z;r-=k,n-=N}while((tn(k)>ur||tn(N)>ur)&&--o>0);return[r,n]}};function nn(){return ar(rn).scale(152.63)}var Ci=lr(on(),1),cf=({data:t,width:e,height:r})=>{let n=(0,sr.useRef)();return(0,sr.useEffect)(()=>{let o=be(n.current),i=nn().scale(100).translate([e/2,r/2]),a=Je();o.append("path").datum(a).attr("class","graticule").attr("d",Wr().projection(i)).attr("fill","none").attr("stroke","#ccc").attr("stroke-width",.5).attr("stroke-opacity",.5);let u=o.selectAll("circle").data(t.filter(l=>typeof l.ra=="number"&&typeof l.dec=="number")).enter().append("circle").attr("cx",l=>i([parseFloat(l.ra),parseFloat(l.dec)])[0]).attr("cy",l=>i([parseFloat(l.ra),parseFloat(l.dec)])[1]).attr("r",5).attr("fill","blue").attr("stroke","black").attr("stroke-width",1),s=be(n.current.parentNode).append("div").style("position","absolute").style("background-color","white").style("border","1px solid black").style("padding","5px").style("visibility","hidden");return u.on("mouseover",(l,f)=>{s.html(`
        <strong>Name:</strong> ${f.name}<br>
        <strong>Exposure:</strong> ${f.exposure}<br>
        <strong>Sigma:</strong> ${f.sigma}
      `).style`
          visibility: visible;
          left: ${l.pageX+10}px;
          top: ${l.pageY-30}px;
        `}),u.on("mouseout",()=>{s.style`
        visibility: hidden;
      `}),()=>{s.remove()}},[t,r,e]),(0,Ci.jsx)("svg",{ref:n,width:e,height:r})},Md=cf;export{Md as a};
